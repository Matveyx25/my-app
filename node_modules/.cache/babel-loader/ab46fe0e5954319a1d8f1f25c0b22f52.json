{"ast":null,"code":"import _slicedToArray from\"/Users/matveystepanov/Documents/SamuraysWay/first-project/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import s from\"./ProfileInfo.module.css\";import Preloader from'../../common/preloader/preloader';import HeaderBg from'../../../assets/img/Header.png';import avatar from'../../../assets/img/1521018917.png';import ProfileStatusWithHooks from'./ProfileStatusWithHooks';import pen from'../../../assets/img/draw.png';import ProfileDataForm from'./ProfileDataForm';var ProfileInfo=function ProfileInfo(_ref){var profile=_ref.profile,savePhoto=_ref.savePhoto,status=_ref.status,updateStatus=_ref.updateStatus,isOwner=_ref.isOwner,saveProfile=_ref.saveProfile;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];if(!profile){return React.createElement(Preloader,{className:s.preloader});}var onSubmit=function onSubmit(formData){saveProfile(formData).then(function(){setEditMode(false);});};var onMainPhotoSelect=function onMainPhotoSelect(e){if(e.target.files.length){savePhoto(e.target.files[0]);}};return React.createElement(\"div\",null,React.createElement(\"div\",null,React.createElement(\"img\",{className:s.headerBg,src:HeaderBg})),React.createElement(\"div\",{className:s.descriptionBlock},React.createElement(\"div\",{className:s.imgBlock},React.createElement(\"img\",{src:profile.photos.large||avatar}),isOwner&&React.createElement(React.Fragment,null,React.createElement(\"input\",{className:s.changeBtn,id:\"changeBtn\",type:\"file\",onChange:onMainPhotoSelect}),React.createElement(\"label\",{htmlFor:\"changeBtn\",className:s.changeLabel},React.createElement(\"img\",{src:pen})))),React.createElement(\"div\",{className:s.description},editMode?React.createElement(ProfileDataForm,{initialValues:profile,profile:profile,onSubmit:onSubmit}):React.createElement(ProfileData,{toEditMode:function toEditMode(){setEditMode(true);},onMainPhotoSelect:onMainPhotoSelect,isOwner:isOwner,profile:profile}),React.createElement(ProfileStatusWithHooks,{status:status,updateStatus:updateStatus}))));};var ProfileData=function ProfileData(_ref2){var profile=_ref2.profile,toEditMode=_ref2.toEditMode,isOwner=_ref2.isOwner;return React.createElement(\"div\",null,isOwner&&React.createElement(\"div\",null,React.createElement(\"button\",{onClick:setEditMode(true)},\"edit\")),React.createElement(\"div\",{className:s.name},profile.fullName),React.createElement(\"div\",null,React.createElement(\"b\",null,\"Looking for a job:\"),\" \",profile.lookingForAJob?\"yes\":\"no\"),profile.lookingForAJob&&React.createElement(\"div\",null,React.createElement(\"b\",null,\"My professional skills: \"),profile.lookingForAJobDescription),React.createElement(\"div\",null,React.createElement(\"b\",null,\"About me:\"),\" \",profile.aboutMe),React.createElement(\"div\",{className:s.contacts},React.createElement(\"b\",null,\"Contacts\"),\" \",Object.keys(profile.contacts).map(function(k){return React.createElement(Contact,{contactTitle:k,value:profile.contacts[k]});})));};var Contact=function Contact(_ref3){var contactTitle=_ref3.contactTitle,value=_ref3.value;return React.createElement(\"div\",null,!value||React.createElement(\"div\",null,React.createElement(\"b\",null,contactTitle,\":\"),value));};export default ProfileInfo;","map":{"version":3,"sources":["/Users/matveystepanov/Documents/SamuraysWay/first-project/my-app/src/components/Profile/ProfileInfo/ProfileInfo.jsx"],"names":["React","useState","s","Preloader","HeaderBg","avatar","ProfileStatusWithHooks","pen","ProfileDataForm","ProfileInfo","profile","savePhoto","status","updateStatus","isOwner","saveProfile","editMode","setEditMode","preloader","onSubmit","formData","then","onMainPhotoSelect","e","target","files","length","headerBg","descriptionBlock","imgBlock","photos","large","changeBtn","changeLabel","description","ProfileData","toEditMode","name","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contacts","Object","keys","map","k","Contact","contactTitle","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport s from \"./ProfileInfo.module.css\"\nimport Preloader from '../../common/preloader/preloader'\nimport HeaderBg from '../../../assets/img/Header.png'\nimport avatar from '../../../assets/img/1521018917.png'\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\nimport pen from '../../../assets/img/draw.png'\nimport ProfileDataForm from './ProfileDataForm'\n\nconst ProfileInfo = ({profile , savePhoto , status , updateStatus , isOwner , saveProfile}) => {\n    let [editMode , setEditMode] = useState(false)\n    \n    if (!profile) {\n        return <Preloader className={s.preloader} />\n    }\n\n    const onSubmit = (formData) => {\n            saveProfile(formData).then(() =>\n             {setEditMode(false)})\n        }\n\n    const onMainPhotoSelect = (e) => {\n        if(e.target.files.length){\n        savePhoto(e.target.files[0])\n        }\n    }\n\n    return (\n        <div>\n            <div>\n                <img className={s.headerBg} src={HeaderBg} />\n            </div>\n            <div className={s.descriptionBlock}>\n                <div className={s.imgBlock}>\n                <img src={profile.photos.large || avatar} />\n                {isOwner && <><input className={s.changeBtn} id={\"changeBtn\"} type={\"file\"} onChange={onMainPhotoSelect}/><label htmlFor={\"changeBtn\"} className={s.changeLabel}><img src={pen}/></label></>}\n                </div>\n                \n                <div className={s.description}>\n                \n                {editMode ? \n                <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit}/> : \n                <ProfileData toEditMode={() => {setEditMode(true)}} onMainPhotoSelect={onMainPhotoSelect} isOwner={isOwner} profile={profile}/>}\n                 <ProfileStatusWithHooks status={status}\n                 updateStatus={updateStatus} />\n                 </div>\n            </div>\n        </div>\n    );\n}\n\nconst ProfileData = ({profile , toEditMode , isOwner}) => {\n    return <div>\n    {isOwner && <div><button onClick={setEditMode(true)}>edit</button></div>}\n        <div className={s.name}>\n                    {profile.fullName}\n        </div>\n        <div>\n            <b>Looking for a job:</b> {profile.lookingForAJob ? \"yes\" : \"no\"}\n        </div>\n        {profile.lookingForAJob &&\n            <div>\n                <b>My professional skills: </b>{profile.lookingForAJobDescription}\n            </div>}\n        <div>\n            <b>About me:</b> {profile.aboutMe}\n        </div>\n        <div className={s.contacts}>\n            <b>Contacts</b> {Object.keys(profile.contacts).map(k => {\n                return <Contact contactTitle={k} value={profile.contacts[k]} />\n            })}\n        </div>\n    </div>\n}\n\nconst Contact = ({ contactTitle, value }) => {\n    return (\n        <div>{!value || <div><b>{contactTitle}:</b>{value}</div>}</div>\n    )\n}\n\nexport default ProfileInfo;\n"]},"metadata":{},"sourceType":"module"}