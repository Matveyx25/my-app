{"ast":null,"code":"import _classCallCheck from\"/Users/matveystepanov/Documents/SamuraysWay/first-project/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/matveystepanov/Documents/SamuraysWay/first-project/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/matveystepanov/Documents/SamuraysWay/first-project/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/matveystepanov/Documents/SamuraysWay/first-project/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/matveystepanov/Documents/SamuraysWay/first-project/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Profile from'./Profile';import{connect}from'react-redux';import{getUserProfile,getStatus,saveProfile,updateStatus,savePhoto}from'../../redux/profile-reducer';import{withRouter,Redirect}from'react-router-dom';import{withAuthRedirect}from'../../hoc/withAuthRedirect';import{compose}from'redux';var ProfileContainer=/*#__PURE__*/function(_React$Component){_inherits(ProfileContainer,_React$Component);function ProfileContainer(){_classCallCheck(this,ProfileContainer);return _possibleConstructorReturn(this,_getPrototypeOf(ProfileContainer).apply(this,arguments));}_createClass(ProfileContainer,[{key:\"refreshProfile\",value:function refreshProfile(){var userId=this.props.match.params.userId;if(!userId){userId=this.props.loginedUserId;if(!userId){this.props.history.push(\"/login\");}}this.props.getUserProfile(userId);this.props.getStatus(userId);}},{key:\"componentDidMount\",value:function componentDidMount(){this.refreshProfile();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){if(this.props.match.params.userId!=prevProps.match.params.userId){this.refreshProfile();}}},{key:\"render\",value:function render(){return React.createElement(Profile,Object.assign({},this.props,{savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile}));}}]);return ProfileContainer;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{profile:state.profilePage.profile,status:state.profilePage.status,loginedUserId:state.auth.id,isAuth:state.auth.isAuth};};export default compose(withRouter,withAuthRedirect,connect(mapStateToProps,{getUserProfile:getUserProfile,savePhoto:savePhoto,getStatus:getStatus,updateStatus:updateStatus,saveProfile:saveProfile}))(ProfileContainer);","map":{"version":3,"sources":["/Users/matveystepanov/Documents/SamuraysWay/first-project/my-app/src/components/Profile/ProfileContainer.jsx"],"names":["React","Profile","connect","getUserProfile","getStatus","saveProfile","updateStatus","savePhoto","withRouter","Redirect","withAuthRedirect","compose","ProfileContainer","userId","props","match","params","loginedUserId","history","push","refreshProfile","prevProps","prevState","snapshot","profile","status","Component","mapStateToProps","state","profilePage","auth","id","isAuth"],"mappings":"6uBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,cAAT,CAA0BC,SAA1B,CAAsCC,WAAtC,CAAoDC,YAApD,CAAkEC,SAAlE,KAAkF,6BAAlF,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,kBAArC,CACA,OAASC,gBAAT,KAAiC,4BAAjC,CACA,OAASC,OAAT,KAAwB,OAAxB,C,GAGMC,CAAAA,gB,8UAEe,CACb,GAAIC,CAAAA,MAAM,CAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,MAArC,CACA,GAAI,CAACA,MAAL,CAAa,CACTA,MAAM,CAAG,KAAKC,KAAL,CAAWG,aAApB,CACA,GAAG,CAACJ,MAAJ,CAAY,CACR,KAAKC,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACH,CACJ,CACD,KAAKL,KAAL,CAAWX,cAAX,CAA0BU,MAA1B,EACA,KAAKC,KAAL,CAAWV,SAAX,CAAqBS,MAArB,EACH,C,6DAEmB,CACjB,KAAKO,cAAL,GACF,C,8DAEkBC,S,CAAYC,S,CAAYC,Q,CAAU,CACjD,GAAG,KAAKT,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,MAAxB,EAAkCQ,SAAS,CAACN,KAAV,CAAgBC,MAAhB,CAAuBH,MAA5D,CAAmE,CACnE,KAAKO,cAAL,GACC,CACJ,C,uCAEQ,CACL,MACI,qBAAC,OAAD,kBAAa,KAAKN,KAAlB,EACA,SAAS,CAAE,KAAKA,KAAL,CAAWP,SADtB,CAEA,OAAO,CAAE,CAAC,KAAKO,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,MAFlC,CAGA,OAAO,CAAE,KAAKC,KAAL,CAAWU,OAHpB,CAG6B,MAAM,CAAE,KAAKV,KAAL,CAAWW,MAHhD,CAIA,YAAY,CAAE,KAAKX,KAAL,CAAWR,YAJzB,CAKA,WAAW,CAAE,KAAKQ,KAAL,CAAWT,WALxB,GADJ,CAQH,C,8BAjC0BL,KAAK,CAAC0B,S,EAqCrC,GAAIC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAC9BJ,OAAO,CAAEI,KAAK,CAACC,WAAN,CAAkBL,OADG,CAE9BC,MAAM,CAAEG,KAAK,CAACC,WAAN,CAAkBJ,MAFI,CAG9BR,aAAa,CAAEW,KAAK,CAACE,IAAN,CAAWC,EAHI,CAI9BC,MAAM,CAAEJ,KAAK,CAACE,IAAN,CAAWE,MAJW,CAAZ,EAAtB,CAOA,cAAerB,CAAAA,OAAO,CACjBH,UADiB,CAEjBE,gBAFiB,CAGlBR,OAAO,CAACyB,eAAD,CAAkB,CAAExB,cAAc,CAAdA,cAAF,CAAmBI,SAAS,CAATA,SAAnB,CAClBH,SAAS,CAATA,SADkB,CACNE,YAAY,CAAZA,YADM,CACSD,WAAW,CAAXA,WADT,CAAlB,CAHW,CAAP,CAKbO,gBALa,CAAf","sourcesContent":["import React from 'react';\nimport Profile from './Profile';\nimport { connect } from 'react-redux';\nimport { getUserProfile , getStatus , saveProfile , updateStatus ,savePhoto} from '../../redux/profile-reducer'\nimport { withRouter, Redirect } from 'react-router-dom';\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { compose } from 'redux';\n\n\nclass ProfileContainer extends React.Component {\n\n    refreshProfile() {\n        let userId = this.props.match.params.userId\n        if (!userId) {\n            userId = this.props.loginedUserId\n            if(!userId) {\n                this.props.history.push(\"/login\")\n            }\n        }\n        this.props.getUserProfile(userId)\n        this.props.getStatus(userId)\n    }\n\n    componentDidMount() {\n       this.refreshProfile()\n    }\n\n    componentDidUpdate(prevProps , prevState , snapshot) {\n        if(this.props.match.params.userId != prevProps.match.params.userId){\n        this.refreshProfile()\n        }\n    }\n\n    render() {\n        return (\n            <Profile {...this.props} \n            savePhoto={this.props.savePhoto}\n            isOwner={!this.props.match.params.userId}\n            profile={this.props.profile} status={this.props.status} \n            updateStatus={this.props.updateStatus}\n            saveProfile={this.props.saveProfile}/>\n        )\n    }\n}\n\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    loginedUserId: state.auth.id,\n    isAuth: state.auth.isAuth\n})\n\nexport default compose(\n     withRouter,\n     withAuthRedirect,\n    connect(mapStateToProps, { getUserProfile , savePhoto\n         , getStatus , updateStatus , saveProfile })\n)(ProfileContainer)\n"]},"metadata":{},"sourceType":"module"}