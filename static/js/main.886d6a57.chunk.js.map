{"version":3,"sources":["api/api.js","components/common/preloader/preloader.module.css","assets/img/circles.png","components/Navbar/Navbar.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","redux/auth-reducer.js","components/Login/Login.jsx","redux/app-reducer.js","utils/objects-helpers.js","redux/users-reduser.js","redux/sidebar-reducer.js","redux/redux-store.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","hoc/withSuspense.js","App.js","index.js","components/common/FormsControl/FormsControls.js","components/common/preloader/preloader.js","components/Users/Users.module.css","components/common/FormsControl/FormControls.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js","redux/dialogs-reduser.js","assets/img/1521018917.png"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","getUnFollow","userId","delete","getFollow","post","getProfile","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","module","exports","Boolean","window","location","hostname","match","Navbar","className","s","nav","item","to","activeClassName","active","SET_USER_DATA","initialState","usersId","isAuth","setAuthUserData","id","type","payload","getAuthUserData","dispatch","a","resultCode","authReducer","state","action","maxLength","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","style","formSummaryError","connect","auth","message","messages","length","stopSubmit","_error","props","formData","initialazed","appReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollow","apiMethod","actionCreator","usersReducer","followed","count","filter","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","app","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddlewere","Paginator","totalItemsCount","portionsSize","onPageChange","pagesCount","Math","ceil","pages","i","push","portionsCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","currentWrap","btnScroll","onClick","p","selectedPage","e","User","user","follow","unfollow","wrap","avatar","src","photos","small","userPhoto","alt","disabled","some","unfollowBtn","followBtn","name","Users","key","getPageSize","getTotalUsersCount","getCurrentPage","getFetching","getFollowinginProgress","UsersAPIComponent","pageNumber","requestUsers","this","React","Component","bind","page","totalCount","Header","header","loginBlock","HeaderContainer","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initialazeApp","path","render","UsersContainer","AppContainer","withRouter","promise","Promise","all","MainApp","basename","process","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","placeholder","validators","component","text","validate","Preloader","preloader","value","ADD_POST","SET_USER_PROFILE","SET_STATUS","postsData","likequantity","profile","addPostActionCreater","newPostText","setStatus","getUserProfile","newPost","stateCopy","unshift","dialogs","author","addMessageActionCreator","newMessageBody","newMessage"],"mappings":"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","file":"static/js/main.886d6a57.chunk.js","sourcesContent":["import * as axios from 'axios'\n\nconst instance = axios.create({\n    withCredentials: true, \n    baseURL : 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\"API-KEY\" : \"b93c13bf-3a25-43aa-aa7b-bce3a68057ff\"}\n})\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10){\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\n    },\n    getUnFollow(userId){\n        return instance.delete(`follow/${userId}`)\n    },\n    getFollow(userId){\n        return instance.post(`follow/${userId}`)\n    },\n    getProfile(userId){\n        return profileAPI.getProfile(userId)\n    },\n}\nexport const profileAPI = {\n    getProfile(userId){\n        return instance.get(`profile/${userId}`)\n    },\n    getStatus(userId){\n        return instance.get(`profile/status/${userId}`)\n    }, \n    updateStatus(status){\n        return instance.put(`profile/status` , {status: status})\n    }\n}\nexport const authAPI = {\n    me () { return instance.get(`auth/me`) },\n    login (email , password , rememberMe = false){return instance.post(`auth/login`, {email , password , rememberMe})},\n    logout (){return instance.delete(`auth/login`)}\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__cs5zW\",\"loader\":\"preloader_loader__2dI9R\"};","module.exports = __webpack_public_path__ + \"static/media/circles.7a0b3a52.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"active\":\"Navbar_active__3mbhk\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport s from \"./Navbar.module.css\";\nimport { NavLink } from 'react-router-dom';\n\nconst Navbar = () => {\n    return (\n        <nav className={s.nav}>\n            <div className={s.item}><NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink></div>\n            <div className={s.item}><NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink></div>\n            <div className={s.item}><NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink></div>\n            <div className={s.item}><NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink></div>\n        </nav>\n    );\n}\n\nexport default Navbar;","import { authAPI } from \"../api/api\"\nimport { stopSubmit } from \"redux-form\"\n\nconst SET_USER_DATA = 'lightgram/auth/SET_USER_DATA'\n\nlet initialState = {\n    usersId: null,\n    email: null,\n    login: null,\n    isAuth: false\n}\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.payload\n            }\n        default:\n            return state;\n    }\n}\n\n\nexport const setAuthUserData = (id, email, login, isAuth) =>\n    ({ type: SET_USER_DATA, payload: { id, email, login, isAuth } })\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me()\n    if (response.data.resultCode === 0) {\n        let { id, email, login } = response.data.data\n        dispatch(setAuthUserData(id, email, login, true))\n    }\n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe)\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData())\n    } else {\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\n        dispatch(stopSubmit(\"login\", { _error: message }))\n    }\n}\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout()\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false))\n    }\n}\n\nexport default authReducer","import React from 'react'\nimport {Field , reduxForm} from 'redux-form'\nimport { Input, createField } from '../common/FormsControl/FormsControls'\nimport {required , maxLengthCreator } from '../../utils/validators/validators'\nimport { connect } from 'react-redux'\nimport {login} from '../../redux/auth-reducer'\nimport { Redirect } from 'react-router-dom'\nimport style from '../common/FormsControl/FormControls.module.css'\n\nconst maxLength = maxLengthCreator(20)\nconst Login = (props) => {\n    const onSubmit = (formData) =>{\n        props.login(formData.email , formData.password , formData.rememberMe)\n    }\n    if(props.isAuth){\n        return<Redirect to=\"/profile\"/>\n    }else{\n    return <div>\n        <h1>Login</h1>\n        <LoginReduxForm onSubmit={onSubmit}/>\n    </div>\n    }\n}\n\nconst LoginForm = ({handleSubmit , error}) => {\n    return <form onSubmit={handleSubmit}>\n            {createField('Email' , \"email\" , [required , maxLength] , Input )}\n            {createField('Password' , \"password\" , [required , maxLength] , Input, {type: \"password\"})}\n            {createField(null , \"rememberMe\" , null , Input , {type: \"checkbox\"} , \"remember me\")}\n            {error && <div className={style.formSummaryError}>{error}</div>}\n            <div><button>send</button></div>\n        </form>\n}\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth\n})\n\nexport default connect(mapStateToProps , {login})(Login)","import { getAuthUserData } from './auth-reducer'\n\nconst INITIALAZED_SUCCESS = 'INITIALAZED_SUCCESS'\n\nlet initialState = {\n    initialazed: false,\n}\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALAZED_SUCCESS:\n            return {\n                ...state,\n                initialazed: true,\n                }   \n        default:\n            return state;\n    }\n}\n\n\nexport const initialazedSuccess = () => ({ type: INITIALAZED_SUCCESS})\n\nexport const initialazeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData());\n    Promise.all([promise])\n        .then(() => {\n            dispatch(initialazedSuccess());\n        })\n}\n\nexport default appReducer","export const updateObjectInArray = (items , itemId, objPropName, newObjProps) => {\n    return items.map(u => {\n    if (u[objPropName] === itemId) {\n        return { ...u, ...newObjProps}\n    }\n    return u\n})\n}","import { usersAPI } from \"../api/api\"\nimport { updateObjectInArray } from \"../utils/objects-helpers\"\n\nconst FOLLOW = 'lightgram/users/FOLLOW'\nconst UNFOLLOW = 'lightgram/users/UNFOLLOW'\nconst SET_USERS = 'lightgram/users/SET_USERS'\nconst SET_CURRENT_PAGE = 'lightgram/users/SET_CURRENT_PAGE'\nconst SET_TOTAL_USERS_COUNT = 'lightgram/users/SET_TOTAL_USERS_COUNT'\nconst TOGGLE_IS_FETCHING = 'lightgram/users/TOGGLE_IS_FETCHING'\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'lightgram/users/TOGGLE_IS_FOLLOWING_PROGRESS'\n\nlet initialState = {\n    users: [],\n    pageSize: 5,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: []\n}\n\nconst usersReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId , \"id\" , {followed: true})\n            }\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId , \"id\" , {followed: false})\n\n            }\n        case SET_USERS:\n            return { ...state, users: action.users }\n        case SET_CURRENT_PAGE:\n            return { ...state, currentPage: action.currentPage }\n        case SET_TOTAL_USERS_COUNT:\n            return { ...state, totalUsersCount: action.count }\n        case TOGGLE_IS_FETCHING:\n            return { ...state, isFetching: action.isFetching }\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id != action.userId)\n            }\n        default:\n            return state\n    }\n}\n\n// ACTION CREATOR\n\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\nexport const setUsers = (users) => ({ type: SET_USERS, users })\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\nexport const setUsersTotalCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\n\n// THUNK\n\nconst followUnfollow = async(dispatch , userId , apiMethod , actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId))\n        let response = await apiMethod(userId)\n        if (response.resultCode == 0) {\n            dispatch(actionCreator(userId))\n        }\n        dispatch(toggleFollowingProgress(false, userId))\n}\n\nexport const requestUsers = (page, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true))\n        dispatch(setCurrentPage(page))\n\n        let data = await usersAPI.getUsers(page, pageSize)\n        dispatch(toggleIsFetching(false))\n        dispatch(setUsers(data.items))\n        dispatch(setUsersTotalCount(data.totalCount))\n    }\n}\n\nexport const unfollow = (userId) => {\n    return async (dispatch) => {\n        followUnfollow(dispatch , userId , usersAPI.getUnFollow.bind(usersAPI) , unfollowSuccess)\n    }\n}\n\nexport const follow = (userId) => {\n    return async (dispatch) => {\n        followUnfollow(dispatch , userId , usersAPI.getFollow.bind(usersAPI) , followSuccess)\n    }\n}\n\nexport default usersReducer","let initialState = {};\n\nconst sidebarReducer = (state = initialState, action) => {\n    return state;\n}\n\nexport default sidebarReducer;","import { combineReducers , createStore, applyMiddleware, compose  } from \"redux\"\nimport profileReducer from \"./profile-reducer\"\nimport dialogsReducer from \"./dialogs-reduser\"\nimport usersReducer from \"./users-reduser\"\nimport sidebarReducer from \"./sidebar-reducer\"\nimport authReducer from \"./auth-reducer\"\nimport thunkMiddlewere from \"redux-thunk\"\nimport { reducer as formReducer } from \"redux-form\"\nimport appReducer from \"./app-reducer\"\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    app: appReducer,\n    form: formReducer\n});\n\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst store = createStore(reducers, composeEnhancers(\n    applyMiddleware(thunkMiddlewere)\n  ))\n\nwindow.store = store\n\nexport default store","import React, { useState } from 'react'\nimport s from './Paginator.module.css'\n\nconst Paginator = ({totalItemsCount , pageSize , portionsSize , currentPage , onPageChange}) => {\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\n\n    let pages = [];\n\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    let portionsCount = Math.ceil(pagesCount / portionsSize)\n    let [portionNumber , setPortionNumber] = useState(1)\n    let leftPortionPageNumber = (portionNumber - 1) * portionsSize + 1\n    let rightPortionPageNumber = portionNumber * portionsSize\n\n    return  <div className={s.currentWrap}>\n            {portionNumber > 1 && <button className={s.btnScroll}  onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>}\n            {pages\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n            .map(p => {\n                return <span className={currentPage === p && s.selectedPage}\n                    onClick={(e) => { onPageChange(p) }}>\n                    {p}</span>\n            })}\n            {portionsCount > portionNumber && <button className={s.btnScroll} onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>}\n        </div>\n}\n\nexport default Paginator","import React from 'react'\nimport s from './Users.module.css'\nimport userPhoto from '../../assets/img/1521018917.png'\nimport { NavLink } from 'react-router-dom'\n\nconst User = ({user, followingInProgress , follow , unfollow}) => {\n    return <div className={s.wrap}>\n        <span>\n            <div>\n                <NavLink to={'/profile/' + user.id}>\n                    <img className={s.avatar} src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"\" />\n                </NavLink>\n            </div>\n            <div>\n                {user.followed ?\n                    <button disabled={\n                       followingInProgress.some(id => id == user.id)} className={s.unfollowBtn} onClick={() => { unfollow(user.id) }} >unfollow</button> :\n                    <button disabled={followingInProgress.some(id => id == user.id)} className={s.followBtn} onClick={() => { follow(user.id) }}>follow</button>}\n            </div>\n        </span>\n        <span>\n            <div className={s.name}>{user.name}</div>\n            <div>{user.status}</div>\n        </span>\n    </div>\n}\n\nexport default User","import React from 'react'\nimport Paginator from '../common/Paginator/Paginator'\nimport User from './User'\n\nconst Users = (props) => {\n    return <div>\n        <Paginator totalItemsCount={props.totalUsersCount}\n            pageSize={props.pageSize} onPageChange={props.onPageChange}\n            currentPage={props.currentPage} portionsSize={10}/>\n        {props.users.map(u => <User user={u} key={u.id}\n            followingInProgress={props.followingInProgress}\n            follow={props.follow} unfollow={props.unfollow}\n             />)}\n    </div>\n}\n\nexport default Users","export const getUsers = (state) => {\n    return state.usersPage.users\n}\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport const getFetching = (state) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowinginProgress = (state) => {\n    return state.usersPage.followingInProgress\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport Users from './Users'\nimport Preloader from '../common/preloader/preloader.js'\nimport { follow, unfollow, setCurrentPage, toggleIsFetching, toggleFollowingProgress, requestUsers } from '../../redux/users-reduser'\nimport { getUsers , getPageSize , getTotalUsersCount , getCurrentPage , getFetching , getFollowinginProgress} from '../../redux/users-selectors'\n\n\nclass UsersAPIComponent extends React.Component {\n\n    componentDidMount() {\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\n    }\n\n    onPageChange = (pageNumber) => {\n        this.props.requestUsers(pageNumber, this.props.pageSize)\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ?\n                <Preloader />\n                : null}\n            <Users\n                totalUsersCount={this.props.totalUsersCount}\n                pageSize={this.props.pageSize}\n                currentPage={this.props.currentPage}\n                onPageChange={this.onPageChange}\n                users={this.props.users}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n                toggleFollowingProgress={this.props.toggleFollowingProgress}\n                followingInProgress={this.props.followingInProgress}\n            />\n        </>\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getFetching(state),\n        followingInProgress: getFollowinginProgress(state),\n    }\n}\n\nexport default connect(mapStateToProps, { follow , unfollow , setCurrentPage , toggleIsFetching , toggleFollowingProgress , requestUsers })(UsersAPIComponent)","import React from 'react';\nimport s from \"./Header.module.css\";\nimport { NavLink } from 'react-router-dom';\n\nconst Header = (props) => {\n    return (\n        <header className={s.header}>\n            <img src=\"https://www.freepnglogos.com/uploads/eagles-png-logo/eagle-sports-png-logos--0.png\" />\n            <div className={s.loginBlock}>\n                {props.isAuth ? <div>{props.login} - <span onClick={props.logout}>Log out</span></div> : <NavLink to={'/login'}>Login</NavLink>}\n            </div>\n        </header>\n    );\n}\n\nexport default Header;","import React from 'react'\nimport Header from './Header'\nimport {connect} from 'react-redux'\nimport {getAuthUserData , logout} from '../../redux/auth-reducer'\n\nclass HeaderContainer extends React.Component{\n\n    componentDidMount(){\n        this.props.getAuthUserData()\n    }\n\n    render(){\n      return <Header {...this.props}/>\n    }\n    \n}\n\nlet mapStateToProps = (state) => ({\n        isAuth: state.auth.isAuth,\n        login: state.auth.login,\n})\n\nexport default connect(mapStateToProps , {getAuthUserData , logout})(HeaderContainer)","import React from 'react'\nimport Preloader from '../components/common/preloader/preloader'\n    \nexport const withSuspense = (Component) => {\n    \n    return (props) => {\n       return <React.Suspense fallback={<Preloader/>}>\n            <Component {...props}/>\n        </React.Suspense>\n    }\n}\n\n","import React from 'react'\nimport {Route, withRouter, HashRouter} from \"react-router-dom\"\nimport './App.css'\nimport Navbar from './components/Navbar/Navbar'\nimport Login from './components/Login/Login'\nimport { initialazeApp } from './redux/app-reducer'\nimport { connect, Provider } from 'react-redux'\nimport { compose } from 'redux'\nimport Preloader from './components/common/preloader/preloader'\nimport store from './redux/redux-store'\nimport UsersContainer from './components/Users/UsersContainer'\nimport HeaderContainer from './components/Header/HeaderContainer' \nimport { Suspense } from 'react'\nimport { withSuspense } from './hoc/withSuspense'\n\nconst DialogsContainer = React.lazy(() => import ('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import ('./components/Profile/ProfileContainer'));\n\n\nclass App extends React.Component {\n  \n  componentDidMount(){\n    this.props.initialazeApp()\n  }\n  \n  render() {\n    if(!this.props.initialazed){\n      return <Preloader />\n    }\n    return (\n        <div className=\"app-wrapper\">\n          <HeaderContainer />\n          <Navbar />\n          <div className=\"app-wrapper-content\">\n            <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}/>\n            <Route path=\"/profile/:userId?\" render= {withSuspense(ProfileContainer)}/>\n            <Route path=\"/users\" render={() => <UsersContainer />} />\n            <Route path=\"/login\" render={() => <Login />} />\n          </div>\n        </div>\n    )\n  } \n}\n  \nconst mapStateToProps = (state) => ({\n  initialazed: state.app.initialazed\n})\n\nlet AppContainer = compose(withRouter , connect(mapStateToProps , {initialazeApp}))(App)\n\nconst MainApp = props => {\n  return <HashRouter basename={process.env.PUBLIC_URL}>\n    <Provider store={store}>\n      <AppContainer/>\n    </Provider>\n  </HashRouter>\n} \n\nexport default MainApp","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport MainApp from './App';\n\nReactDOM.render(<MainApp />, document.getElementById('root'));\n\nserviceWorker.unregister();","import React from 'react'\nimport s from './FormControls.module.css'\nimport { Field } from 'redux-form'\n\nconst FormControl = ({input , meta , child , ...props}) => {\n    const hasError = meta.touched && meta.error\n\n    return (\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\n            {props.children}\n              { hasError && <span>{meta.error}</span>}              \n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    const {input , meta , child , ...restProps} = props\n    return <FormControl {...props}><textarea {...input} {...props}/></FormControl> \n}\n\nexport const Input = (props) => {\n    const {input , meta , child , ...restProps} = props\n    return <FormControl {...props}><input {...input} {...props}/></FormControl> \n}\n\nexport const createField = (placeholder , name , validators, component, props = {} ,text = '') => (\n<div>\n    <Field\n placeholder={placeholder} component={component} \n name={name} validate={validators} {...props}/>\n {text}\n </div>\n )","import React from 'react'\nimport s from './preloader.module.css'\nimport preloader from '../../../assets/img/circles.png'\n\nlet Preloader = (props) => {\n    return <div>\n    <img className={s.preloader} src={preloader}/>\n    </div>\n}\n\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__gHOlh\",\"followBtn\":\"Users_followBtn__3m1nP\",\"name\":\"Users_name__3Kys8\",\"status\":\"Users_status__E0SMG\",\"wrap\":\"Users_wrap__3rrvn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2gmnG\",\"error\":\"FormControls_error__1_o23\",\"formSummaryError\":\"FormControls_formSummaryError__2zzxQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3SIki\",\"currentWrap\":\"Paginator_currentWrap__zSjHt\",\"btnScroll\":\"Paginator_btnScroll__36Abb\"};","export const required = value => {\n    if(value) return undefined\n    return 'Field is required'\n}\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if(value && value.length > maxLength) return `max length is ${maxLength} symbols`\n    return undefined\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","import { usersAPI, profileAPI } from \"../api/api\"\n\nconst ADD_POST = 'lightgram/profile/ADD-POST'\nconst SET_USER_PROFILE = 'lightgram/profile/SET-USER-PROFILE'\nconst SET_STATUS = 'lightgram/profile/SET-STATUS'\n\nlet initialState = {\n    postsData: [\n        { id: 1, message: 'Hi', likequantity: 23 },\n        { id: 2, message: 'Hello', likequantity: 23 },\n        { id: 3, message: 'you', likequantity: 23 },\n        { id: 3, message: 'Yo', likequantity: 23 },\n        { id: 5, message: 'Good bay', likequantity: 23 },\n        { id: 6, message: 'Lose', likequantity: 23 }\n    ],\n    profile: null,\n    status: \"\",\n}\n\nconst profileReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case ADD_POST:{\n            let newPost = {\n                id: 8,\n                message: action.newPostText,\n                likequantity: 0\n            }\n            let stateCopy = {...state}\n            stateCopy.postsData = [...state.postsData]\n            stateCopy.postsData.unshift(newPost)\n            return stateCopy\n        }\n        case SET_USER_PROFILE: {\n            return {...state, profile: action.profile}\n        }\n        case SET_STATUS: {\n            return {...state, status: action.status}\n        }\n        default:\n            return state\n    }\n}\n\nexport const addPostActionCreater = (newPostText) => ({type: ADD_POST , newPostText})\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\nexport const setStatus = (status) => ({type: SET_STATUS, status})\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n    let response = await usersAPI.getProfile(userId)\n        dispatch(setUserProfile(response.data))\n}\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId)\n                dispatch(setStatus(response.data))\n}\nexport const updateStatus = (status) => async (dispatch) => {\n    let response = await profileAPI.updateStatus(status)\n        if(response.data.resultCode === 0) {\n            dispatch(setStatus(status))\n        }\n}\n\nexport default profileReducer","const ADD_MESSAGE = 'ADD-MESSAGE'\n\nlet initialState = {\n    dialogs: [\n        { id: 1, name: 'Alex' },\n        { id: 2, name: 'Matvey' },\n        { id: 3, name: 'Victor' },\n        { id: 4, name: 'Sasha' },\n        { id: 5, name: 'Artem' },\n        { id: 6, name: 'Pasha' }\n    ],\n    messages: [\n        { id: 1, message: 'Hi', author: 'me' },\n        { id: 2, message: 'Hello', author: 'other' },\n        { id: 3, message: 'How are you', author: 'me' },\n        { id: 3, message: 'Good', author: 'other' },\n        { id: 5, message: 'And you', author: 'other' },\n        { id: 6, message: 'Good', author: 'me' }\n    ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case ADD_MESSAGE: {\n            let newMessage = {\n                id: 6,\n                message: action.newMessageBody,\n                author: 'me'\n            };\n            let stateCopy = {...state};\n            stateCopy.messages = [...state.messages];\n            stateCopy.messages.push(newMessage);\n            return  stateCopy;\n        }\n        default:\n            return state;\n    }\n}\n\n\nexport const addMessageActionCreator = (newMessageBody) => ({type: ADD_MESSAGE , newMessageBody})\n\nexport default dialogsReducer","module.exports = __webpack_public_path__ + \"static/media/1521018917.e2c0fd31.png\";"],"sourceRoot":""}